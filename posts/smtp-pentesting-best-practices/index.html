<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="SMTP Pentesting Best Practices" /><meta property="og:locale" content="en" /><meta name="description" content="SMTP" /><meta property="og:description" content="SMTP" /><link rel="canonical" href="https://secybr.com/posts/smtp-pentesting-best-practices/" /><meta property="og:url" content="https://secybr.com/posts/smtp-pentesting-best-practices/" /><meta property="og:site_name" content="secybr penetration testing, red teaming and hack tricks." /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-07T00:00:00+03:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="SMTP Pentesting Best Practices" /><meta name="twitter:site" content="@0xhav0c" /><meta name="google-site-verification" content="405asbYxUs5N1iqL1zGg56yq-OlAtdexlSaC3FC7c9s" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-25T12:21:03+03:00","datePublished":"2022-06-07T00:00:00+03:00","description":"SMTP","headline":"SMTP Pentesting Best Practices","mainEntityOfPage":{"@type":"WebPage","@id":"https://secybr.com/posts/smtp-pentesting-best-practices/"},"url":"https://secybr.com/posts/smtp-pentesting-best-practices/"}</script><title>SMTP Pentesting Best Practices | secybr | penetration testing, red teaming and hack tricks.</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="secybr | penetration testing, red teaming and hack tricks."><meta name="application-name" content="secybr | penetration testing, red teaming and hack tricks."><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><meta content="secybr | penetration testing, red teaming and hack tricks." property="og:site_name"><meta content="SMTP Pentesting Best Practices" property="og:title"><meta content="article" property="og:type"><meta content="penetration testing, red teaming and hack tricks." property="og:description"><meta content="https://secybr.com/posts/smtp-pentesting-best-practices/" property="og:url"><meta content="2022-06-07T00:00:00+03:00" property="article:published_time"><meta content="https://secybr.com/about/" property="article:author"><meta content="https://secybr.com/assets/img/logo/logo.png" property="og:image"><meta content="pentesting protocols" property="article:section"><meta content="pentesting" property="article:tag"><meta content="smtp" property="article:tag"><meta content="best practicies" property="article:tag"><meta property="og:image" content="https://secybr.com/assets/img/logo/logo.png"><meta name="twitter:site" content="secybr"><meta name="twitter:creator" content="0xhav0c"><meta name="twitter:title" content="SMTP Pentesting Best Practices"><meta name="twitter:description" content="penetration testing, red teaming and hack tricks."><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://secybr.com/assets/img/logo/logo.png"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6320091248407168" crossorigin="anonymous"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/logo/logo.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">secybr</a></div><div class="site-subtitle">is a product of 0xhav0c</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/whoami/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>WHO AM I?</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/0xhav0c" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/0xhav0c" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['0xhavocc','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>SMTP Pentesting Best Practices</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>SMTP Pentesting Best Practices</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1654549200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 7, 2022 </em> </span> <span> Updated <em class="" data-ts="1656148863" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 25, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/0xhav0c">0xhav0c</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1801 words"> <em>10 min</em> read</span></div></div></div><div class="post-content"><h1 id="smtp">SMTP</h1><blockquote class="prompt-tip"><div><p>SMTP usually uses ports 25, 465, 587, 2525, 2526</p></div></blockquote><h1 id="what-is-smtp">What is SMTP?</h1><p>SMTP, which stands for Simple Mail Transfer Protocol, is an email protocol used for sending email messages from one email account to another via the internet.</p><p>Email protocols are sets of rules that let different email clients and accounts easily exchange information, and SMTP is one of the most common ones alongside POP and IMAP. It is also the only dedicated protocol for sending emails. Most email clients—including <a href="https://postmarkapp.com/support/article/1040-how-to-send-from-outlook-using-smtp">Outlook</a>, Apple Mail, Gmail, and Yahoo Mail—rely on SMTP to “push” or send messages from a sender to a recipient.</p><p><img data-src="/assets/img/pitcures/smtp/smtp.png" alt="Untitled" data-proofer-ignore></p><p><img data-src="/assets/img/pitcures/smtp/smtp1.png" alt="Untitled" data-proofer-ignore></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>PORT     STATE SERVICE               VERSION
25/tcp   open  smtp
</pre></table></code></div></div><h2 id="sender-policy-framework-spf"><span class="mr-2">Sender Policy Framework (SPF)</span><a href="#sender-policy-framework-spf" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Sender Policy Framework (SPF) provides a mechanism that allows MTAs to check if a host sending an email is authorized.</p><p>Then, the organisations can define a list of authorised mail servers and the MTAs can query for this lists to check if the email was spoofed or not.</p><p>In order to define IP addresses/ranges, domains and others that are allowed to send email on behalf a domain name, different “Mechanism” cam appear in the SPF registry.</p><p><img data-src="/assets/img/pitcures/smtp/smtp2.png" alt="Untitled" data-proofer-ignore></p><p>It SPF policy of the domain indicated in the redirect Mechanism will be used.</p><p>It’s also possible to identify Qualifiers that indicates what should be done if a mechanism is matched. By default, the qualifier “+” is used (so if any mechanism is matched, that means it’s allowed).</p><p>You usually will note at the end of each SPF policy something like: ~all or -all. This is used to indicate that if the sender doesn’t match any SPF policy, you should tag the email as untrusted (~) or reject (-) the email.</p><h2 id="qualifiers"><span class="mr-2">Qualifiers</span><a href="#qualifiers" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Each mechanism can be combined with one of four qualifiers:</p><ul><li><code class="language-plaintext highlighter-rouge">+</code> for a PASS result. This can be omitted; e.g., +mx is the same as mx.<li><code class="language-plaintext highlighter-rouge">?</code> for a NEUTRAL result interpreted like NONE (no policy).<li><code class="language-plaintext highlighter-rouge">~</code> (tilde) for SOFTFAIL, a debugging aid between NEUTRAL and FAIL. Typically, messages that return a SOFTFAIL are accepted but tagged.<li><code class="language-plaintext highlighter-rouge">-</code> (minus) for FAIL, the mail should be rejected (see below).</ul><p>In the following example you can read the SPF policy of <a href="http://google.com/">google.com</a>. Note how the first SPF policy includes SPF policies of other domains:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre>kali@kali:~<span class="nv">$ </span>dig txt google.com | <span class="nb">grep </span>spf
google.com.             235     IN      TXT     <span class="s2">"v=spf1 include:_spf.google.com ~all"</span>

kali@kali:~<span class="nv">$ </span>dig txt _spf.google.com | <span class="nb">grep </span>spf
<span class="p">;</span> &lt;&lt;<span class="o">&gt;&gt;</span> DiG 9.11.3-1ubuntu1.7-Ubuntu &lt;&lt;<span class="o">&gt;&gt;</span> txt _spf.google.com
<span class="p">;</span>_spf.google.com.               IN      TXT
_spf.google.com.        235     IN      TXT     <span class="s2">"v=spf1 include:_netblocks.google.com include:_netblocks2.google.com include:_netblocks3.google.com ~all"</span>

kali@kali:~<span class="nv">$ </span>dig txt _netblocks.google.com | <span class="nb">grep </span>spf
_netblocks.google.com.  1606    IN      TXT     <span class="s2">"v=spf1 ip4:35.190.247.0/24 ip4:64.233.160.0/19 ip4:66.102.0.0/20 ip4:66.249.80.0/20 ip4:72.14.192.0/18 ip4:74.125.0.0/16 ip4:108.177.8.0/21 ip4:173.194.0.0/16 ip4:209.85.128.0/17 ip4:216.58.192.0/19 ip4:216.239.32.0/19 ~all"</span>

kali@kali:~<span class="nv">$ </span>dig txt _netblocks2.google.com | <span class="nb">grep </span>spf
_netblocks2.google.com. 1908    IN      TXT     <span class="s2">"v=spf1 ip6:2001:4860:4000::/36 ip6:2404:6800:4000::/36 ip6:2607:f8b0:4000::/36 ip6:2800:3f0:4000::/36 ip6:2a00:1450:4000::/36 ip6:2c0f:fb50:4000::/36 ~all"</span>

kali@kali:~<span class="nv">$ </span>dig txt _netblocks3.google.com | <span class="nb">grep </span>spf
_netblocks3.google.com. 1903    IN      TXT     <span class="s2">"v=spf1 ip4:172.217.0.0/19 ip4:172.217.32.0/20 ip4:172.217.128.0/19 ip4:172.217.160.0/20 ip4:172.217.192.0/19 ip4:172.253.56.0/21 ip4:172.253.112.0/20 ip4:108.177.96.0/19 ip4:35.191.0.0/16 ip4:130.211.0.0/22 ~all"</span>
</pre></table></code></div></div><p>Traditionally it was possible to spoof any domain name that didn’t have a correct/any SPF record. Nowadays, if email comes from a domain without a valid SPF record is probably going to be rejected/marked as untrusted automatically.</p><p>To check the SPF of a domain you can use online tools like: <a href="https://www.kitterman.com/spf/validate.html">https://www.kitterman.com/spf/validate.html</a></p><h2 id="domainkeys-identified-mail-dkim"><span class="mr-2">DomainKeys Identified Mail (DKIM)</span><a href="#domainkeys-identified-mail-dkim" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>DomainKeys Identified Mail (DKIM) is a mechanism by which outbound email is signed and validated by foreign MTAs upon retrieving a domain’s public key via DNS. The DKIM public key is held within a TXT record for a domain; however, you must know both the selector and domain name to retrieve it.</p><p>Then, to ask for the key you need the domain name and the selector of the mail from the mail header <code class="language-plaintext highlighter-rouge">DKIM-Signature</code> for example: <code class="language-plaintext highlighter-rouge">d=gmail.com;s=20120113</code></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>dig 20120113._domainkey.gmail.com TXT | <span class="nb">grep </span><span class="nv">p</span><span class="o">=</span>
20120113._domainkey.gmail.com. 280 IN   TXT    <span class="s2">"k=rsa</span><span class="se">\;</span><span class="s2"> p=MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCg
KCAQEA1Kd87/UeJjenpabgbFwh+eBCsSTrqmwIYYvywlbhbqoo2DymndFkbjOVIPIldNs/m40KF+yzMn1skyoxcTUGCQs8g3
</span></pre></table></code></div></div><h2 id="dmarc"><span class="mr-2">DMARC</span><a href="#dmarc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Domain-based Message Authentication, Reporting &amp; Conformance (DMARC) is a method of mail authentication that expands upon SPF and DKIM. Policies instruct mail servers how to process email for a given domain and report upon actions performed.</p><p><img data-src="/assets/img/pitcures/smtp/smtp3.png" alt="Untitled" data-proofer-ignore></p><p>To obtain the DMARC record, you need to query the subdomain _dmarc</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>root@kali:~# dig _dmarc.yahoo.com txt | <span class="nb">grep </span>DMARC
_dmarc.yahoo.com.  1785 IN TXT <span class="s2">"v=DMARC1</span><span class="se">\;</span><span class="s2"> p=reject</span><span class="se">\;</span><span class="s2"> sp=none</span><span class="se">\;</span><span class="s2"> pct=100</span><span class="se">\;</span><span class="s2"> 
rua=mailto:dmarc-yahoo-rua@yahoo-inc.com, mailto:dmarc_y_rua@yahoo.com</span><span class="se">\;</span><span class="s2">"</span>

root@kali:~# dig _dmarc.google.com txt | <span class="nb">grep </span>DMARC
_dmarc.google.com. 600 IN TXT <span class="s2">"v=DMARC1</span><span class="se">\;</span><span class="s2"> p=quarantine</span><span class="se">\;</span><span class="s2"> rua=mailto:mailauth-reports@google.com"</span>

root@kali:~# dig _dmarc.paypal.com txt | <span class="nb">grep </span>DMARC
_dmarc.paypal.com. 300 IN TXT <span class="s2">"v=DMARC1</span><span class="se">\;</span><span class="s2"> p=reject</span><span class="se">\;</span><span class="s2"> rua=mailto:d@rua.agari.com</span><span class="se">\;</span><span class="s2"> 
ruf=mailto:dk@bounce.paypal.com,mailto:d@ruf.agari.com"</span>
</pre></table></code></div></div><p>PayPal and Yahoo instruct mail servers to reject messages that contain invalid DKIM signatures or do not originate from their networks. Notifications are then sent to the respective email addresses within each organization. Google is configured in a similar way, although it instructs mail servers to quarantine messages and not outright reject them.</p><h3 id="dmarc-tags"><span class="mr-2">DMARC tags</span><a href="#dmarc-tags" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="table-wrapper"><table><thead><tr><th>Tag Name<th>Purpose<th>Sample<tbody><tr><td>v<td>Protocol version<td>v=DMARC1<tr><td>pct<td>Percentage of messages subjected to filtering<td>pct=20<tr><td>ruf<td>Reporting URI for forensic reports<td>ruf=mailto:authfail@example.com<tr><td>rua<td>Reporting URI of aggregate reports<td>rua=mailto:aggrep@example.com<tr><td>p<td>Policy for organizational domain<td>p=quarantine<tr><td>sp<td>Policy for subdomains of the OD<td>sp=reject<tr><td>adkimadkim<td>Alignment mode for DKIM<td>adkim=s<tr><td>aspf<td>Alignment mode for SPF<td>aspf=r</table></div><h2 id="subdomains"><span class="mr-2">Subdomains</span><a href="#subdomains" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>You need to have separate SPF records for each subdomain you wish to send mail from.</p><p>The following was originally posted on openspf.org, which used to be a great resource for this kind of thing.</p><p>This makes sense - a subdomain may very well be in a different geographical location and have a very different SPF definition.<em>**</em></p><ul><li><strong><a href="https://github.com/serain/mailspoof">https://github.com/serain/mailspoof</a></strong> <strong>Check for SPF and DMARC misconfigurations</strong><li><strong><a href="https://pypi.org/project/checkdmarc/">https://pypi.org/project/checkdmarc/</a></strong> <strong>Automatically get SPF and DMARC configs</strong></ul><h2 id="check-spoofing"><span class="mr-2">Check Spoofing</span><a href="#check-spoofing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>You can use the online tool <a href="http://www.anonymailer.net/">http://www.anonymailer.net/</a> to send you an email spoofing an address and check if reaches you email.<em>**</em></p><h3 id="other-phishing-indicators"><span class="mr-2">Other phishing indicators</span><a href="#other-phishing-indicators" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>Domain’s age<li>Links pointing to IP addresses<li>Link manipulation techniques<li>Suspicious (uncommon) attachments<li>Broken email content<li>Values used that are different to those of the mail headers<li>Existence of a valid and trusted SSL certificate<li>Submission of the page to web content filtering sites</ul><h2 id="simple-smtp-commands"><span class="mr-2">Simple SMTP Commands</span><a href="#simple-smtp-commands" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="c">#HELO</span>
It’s the first SMTP <span class="nb">command</span>: is starts the conversation identifying the sender server and is generally followed by its domain name.
<span class="c">#EHLO</span>
An alternative <span class="nb">command </span>to start the conversation, underlying that the server is using the Extended SMTP protocol.
<span class="c">#MAIL FROM</span>
With this SMTP <span class="nb">command </span>the operations begin: the sender states the <span class="nb">source </span>email address <span class="k">in </span>the “From” field and actually starts the email transfer.
<span class="c">#RCPT TO</span>
It identifies the recipient of the email<span class="p">;</span> <span class="k">if </span>there are more than one, the <span class="nb">command </span>is simply repeated address by address.
<span class="c">#SIZE</span>
This SMTP <span class="nb">command </span>informs the remote server about the estimated size <span class="o">(</span><span class="k">in </span>terms of bytes<span class="o">)</span> of the attached email. It can also be used to report the maximum size of a message to be accepted by the server.
<span class="c">#DATA</span>
With the DATA <span class="nb">command </span>the email content begins to be transferred<span class="p">;</span> it’s generally followed by a 354 reply code given by the server, giving the permission to start the actual transmission.
<span class="c">#VRFY</span>
The server is asked to verify whether a particular email address or username actually exists.
<span class="c">#TURN</span>
This <span class="nb">command </span>is used to invert roles between the client and the server, without the need to run a new connaction.
<span class="c">#AUTH</span>
With the AUTH <span class="nb">command</span>, the client authenticates itself to the server, giving its username and password. It’s another layer of security to guarantee a proper transmission.
<span class="c">#RSET</span>
It communicates the server that the ongoing email transmission is going to be terminated, though the SMTP conversation won’t be closed <span class="o">(</span>like <span class="k">in </span>the <span class="k">case</span> of QUIT<span class="p">)</span><span class="nb">.</span>
<span class="c">#EXPN</span>
This SMTP <span class="nb">command </span>asks <span class="k">for </span>a confirmation about the identification of a mailing list.
<span class="c">#HELP</span>
It’s a client’s request <span class="k">for </span>some information that can be useful <span class="k">for </span>the a successful transfer of the email.
<span class="c">#QUIT</span>
It terminates the SMTP conversation.
</pre></table></code></div></div><h1 id="smtp-pentesting">SMTP Pentesting</h1><div class="table-wrapper"><table><thead><tr><th><img data-src="https://www.shodan.io/static/img/favicon.png" alt="https://www.shodan.io/static/img/favicon.png" width="20px" data-proofer-ignore> Shodan search query :<tbody><tr><td><code class="language-plaintext highlighter-rouge">port:25,465,587,2525,2526</code></table></div><h2 id="information-gathering"><span class="mr-2">Information Gathering</span><a href="#information-gathering" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="c">#Banner Grabbing</span>
PORT   STATE SERVICE REASON  VERSION
25/tcp open  smtp    syn-ack Microsoft ESMTP 6.0.3790.3959
</pre></table></code></div></div><h3 id="basic-connection"><span class="mr-2">Basic Connection</span><a href="#basic-connection" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c">#SMTP</span>
nc <span class="nt">-vn</span> &lt;IP&gt; 25

<span class="c">#SMTPS</span>
openssl s_client <span class="nt">-crlf</span> <span class="nt">-connect</span> smtp.mailgun.org:465 <span class="c">#SSL/TLS without starttls command</span>
openssl s_client <span class="nt">-starttls</span> smtp <span class="nt">-crlf</span> <span class="nt">-connect</span> smtp.mailgun.org:587
</pre></table></code></div></div><h3 id="finding-mx-servers-of-an-organisation"><span class="mr-2">Finding MX servers of an organisation</span><a href="#finding-mx-servers-of-an-organisation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>dig +short mx google.com
</pre></table></code></div></div><h3 id="finding-smtp-commands"><span class="mr-2">Finding SMTP Commands</span><a href="#finding-smtp-commands" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nmap <span class="nt">-p25</span> <span class="nt">--script</span> smtp-commands 10.10.10.10
</pre></table></code></div></div><h3 id="ntlm-auth---information-disclosure"><span class="mr-2">NTLM Auth - Information disclosure</span><a href="#ntlm-auth---information-disclosure" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>If the server supports NTLM auth (Windows) you can obtain sensitive info (versions). More info <a href="https://medium.com/swlh/internal-information-disclosure-using-hidden-ntlm-authentication-18de17675666">here</a>.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>root@kali: telnet example.com 587 
220 example.com SMTP Server Banner 
<span class="o">&gt;&gt;</span> HELO 
250 example.com Hello <span class="o">[</span>x.x.x.x] 
<span class="o">&gt;&gt;</span> AUTH NTLM 334 
NTLM supported 
<span class="o">&gt;&gt;</span> <span class="nv">TlRMTVNTUAABAAAAB4IIAAAAAAAAAAAAAAAAAAAAAAA</span><span class="o">=</span> 
334 TlRMTVNTUAACAAAACgAKADgAAAAFgooCBqqVKFrKPCMAAAAAAAAAAEgASABCAAAABgOAJQAAAA9JAEkAUwAwADEAAgAKAEkASQBTADAAMQABAAoASQBJAFMAMAAxAAQACgBJAEkAUwAwADEAAwAKAEkASQBTADAAMQAHAAgAHwMI0VPy1QEAAAAA
</pre></table></code></div></div><p>Or automate this with nmap plugin smtp-ntlm-info.nse</p><h3 id="sniffing"><span class="mr-2">Sniffing</span><a href="#sniffing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Check if you sniff some password from the packets to port 25</p><h2 id="credentials"><span class="mr-2">Credentials</span><a href="#credentials" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="authentication-bruteforcing"><span class="mr-2">Authentication Bruteforcing</span><a href="#authentication-bruteforcing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>hydra <span class="nt">-l</span> root <span class="nt">-P</span> passwords.txt <span class="o">[</span><span class="nt">-t</span> 32] &lt;IP&gt; ssh
ncrack <span class="nt">-p</span> 22 <span class="nt">--user</span> root <span class="nt">-P</span> passwords.txt &lt;IP&gt; <span class="o">[</span><span class="nt">-T</span> 5]
medusa <span class="nt">-u</span> root <span class="nt">-P</span> 500-worst-passwords.txt <span class="nt">-h</span> &lt;IP&gt; <span class="nt">-M</span> ssh
</pre></table></code></div></div><h3 id="enumeration-username-with-bruteforce"><span class="mr-2">Enumeration Username With Bruteforce</span><a href="#enumeration-username-with-bruteforce" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>smtp-user-enum <span class="nt">-M</span> VRFY <span class="nt">-U</span> users.txt <span class="nt">-t</span> &lt;IP&gt;
</pre></table></code></div></div><p><img data-src="/assets/img/pitcures/smtp/smtp4.png" alt="Example smtp-user-enum.pl output for 'VRFY' command." data-proofer-ignore> <em>Example smtp-user-enum.pl output for ‘VRFY’ command.</em></p><p>Authentication is not always needed</p><p>RCPT TO</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="nv">$ </span>telnet 10.0.10.1 25
Trying 10.0.10.1...
Connected to 10.0.10.1.
Escape character is <span class="s1">'^]'</span><span class="nb">.</span>
220 myhost ESMTP Sendmail 8.9.3
HELO x
250 myhost Hello <span class="o">[</span>10.0.0.99], pleased to meet you
MAIL FROM:test@test.org
250 2.1.0 <span class="nb">test</span>@test.org... Sender ok
RCPT TO:test
550 5.1.1 test... User unknown
RCPT TO:admin
550 5.1.1 admin... User unknown
RCPT TO:ed
250 2.1.5 ed... Recipient ok
</pre></table></code></div></div><p>VRFY</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="nv">$ </span>telnet 10.0.0.1 25
Trying 10.0.0.1...
Connected to 10.0.0.1.
Escape character is <span class="s1">'^]'</span><span class="nb">.</span>
220 myhost ESMTP Sendmail 8.9.3
HELO
501 HELO requires domain address
HELO x
250 myhost Hello <span class="o">[</span>10.0.0.99], pleased to meet you
VRFY root
250 Super-User &lt;root@myhost&gt;
VRFY blah
550 blah... User unknown
</pre></table></code></div></div><p>EXPN</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="nv">$ </span>telnet 10.0.10.1 25
Trying 10.0.10.1...
Connected to 10.0.10.1.
Escape character is <span class="s1">'^]'</span><span class="nb">.</span>
220 myhost ESMTP Sendmail 8.9.3
HELO
501 HELO requires domain address
HELO x
EXPN <span class="nb">test
</span>550 5.1.1 test... User unknown
EXPN root
250 2.1.5 &lt;ed.williams@myhost&gt;
EXPN sshd
250 2.1.5 sshd privsep &lt;sshd@mail2&gt;
</pre></table></code></div></div><p>Another technique</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>msf <span class="o">&gt;</span> use auxiliary/scanner/smtp/smtp_enum
smtp-user-enum: smtp-user-enum <span class="nt">-M</span> &lt;MODE&gt; <span class="nt">-u</span> &lt;USER&gt; <span class="nt">-t</span> &lt;IP&gt;
nmap <span class="nt">--script</span> smtp-enum-users &lt;IP&gt;
</pre></table></code></div></div><h2 id="smtp-spoofing"><span class="mr-2">SMTP Spoofing</span><a href="#smtp-spoofing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Most of this section was extracted from the book Network Security Assessment 3rd Edition.</p><p>SMTP messages are easily spoofed, and so organizations use SPF, DKIM, and DMARC features to prevent parties from sending unauthorised email.</p><p>A complete guide of these countermeasures can be found in <a href="https://seanthegeek.net/459/demystifying-dmarc/">https://seanthegeek.net/459/demystifying-dmarc/</a></p><p><img data-src="/assets/img/pitcures/smtp/smtp5.png" alt="Untitled" data-proofer-ignore></p><p><strong>If you can send data via SMTP</strong> <strong><a href="notion://www.notion.so/exfiltration#smtp">read this</a>.</strong></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/pentesting-protocols/'>pentesting protocols</a>, <a href='/categories/smtp/'>smtp</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/pentesting/" class="post-tag no-text-decoration" >pentesting</a> <a href="/tags/smtp/" class="post-tag no-text-decoration" >smtp</a> <a href="/tags/best-practicies/" class="post-tag no-text-decoration" >best practicies</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=SMTP+Pentesting+Best+Practices+-+secybr+%7C+penetration+testing%2C+red+teaming+and+hack+tricks.&url=https%3A%2F%2Fsecybr.com%2Fposts%2Fsmtp-pentesting-best-practices%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=SMTP+Pentesting+Best+Practices+-+secybr+%7C+penetration+testing%2C+red+teaming+and+hack+tricks.&u=https%3A%2F%2Fsecybr.com%2Fposts%2Fsmtp-pentesting-best-practices%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fsecybr.com%2Fposts%2Fsmtp-pentesting-best-practices%2F&text=SMTP+Pentesting+Best+Practices+-+secybr+%7C+penetration+testing%2C+red+teaming+and+hack+tricks." data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/subdomain-enumeration-methods/">Subdomain Enumeration Methods</a><li><a href="/posts/shodan-tutorials-for-best-practicies/">Shodan.io Tutorials for Best Practices</a><li><a href="/posts/collecting-target-email-address/">Collecting Target Email Addresses</a><li><a href="/posts/evasion-tactics-for-scanning-targets/">Evasion Tactics For Scanning Targets (Active Scan)</a><li><a href="/posts/dumping-lsass-without-mimikatz/">Dumping LSASS Without Mimikatz</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pentesting/">pentesting</a> <a class="post-tag" href="/tags/best-practicies/">best practicies</a> <a class="post-tag" href="/tags/red-team/">red-team</a> <a class="post-tag" href="/tags/active-directory/">active directory</a> <a class="post-tag" href="/tags/active-scan-evasion-tactics/">active scan evasion tactics</a> <a class="post-tag" href="/tags/asset-discovery-methods/">asset discovery methods</a> <a class="post-tag" href="/tags/asset-discovery/">asset discovery</a> <a class="post-tag" href="/tags/asset-enumeration-methods/">asset enumeration methods</a> <a class="post-tag" href="/tags/assets-of-target/">assets of target</a> <a class="post-tag" href="/tags/attack-detection-mechanism/">attack detection mechanism</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ftp-pentesting-best-practices/"><div class="card-body"> <em class="small" data-ts="1654290000" data-df="ll" > Jun 4, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>FTP Pentesting Best Practices</h3><div class="text-muted small"><p> FTP FTP usually uses port 21 What is FTP? FTP (File Transfer Protocol) is used to communicate and transfer files between computers on a TCP/IP (Transmission Control Protocol/Internet Protoco...</p></div></div></a></div><div class="card"> <a href="/posts/telnet-pentesting-best-practices/"><div class="card-body"> <em class="small" data-ts="1654290000" data-df="ll" > Jun 4, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Telnet Pentesting Best Practices</h3><div class="text-muted small"><p> Telnet Telnet usually uses port 23,992 What is Telnet? Telnet is a network protocol used to virtually access a computer and to provide a two-way, collaborative and text-based communication c...</p></div></div></a></div><div class="card"> <a href="/posts/finger-pentesting-best-practices/"><div class="card-body"> <em class="small" data-ts="1654376400" data-df="ll" > Jun 5, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Finger Pentesting Best Practices</h3><div class="text-muted small"><p> Finger Finger usually uses port 79 What is Finger? Finger is a program you can use to find information about computer users. It usually lists the login name, the full name, and possibly othe...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/dhcp-pentesting-best-practices/" class="btn btn-outline-primary" prompt="Older"><p>DHCP Pentesting Best Practices</p></a> <a href="/posts/snmp-pentesting-best-practicies/" class="btn btn-outline-primary" prompt="Newer"><p>SNMP Pentesting Best Practicies</p></a></div><div id="disqus_thread" class="pt-2 pb-2"><p class="text-center text-muted small"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script type="text/javascript"> var disqus_config = function () { this.page.url = 'https://secybr.com/posts/smtp-pentesting-best-practices/'; this.page.identifier = '/posts/smtp-pentesting-best-practices/'; }; /* Lazy loading */ var disqus_observer = new IntersectionObserver(function (entries) { if(entries[0].isIntersecting) { (function () { var d = document, s = d.createElement('script'); s.src = 'https://secybr-com.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); disqus_observer.disconnect(); } }, { threshold: [0] }); disqus_observer.observe(document.querySelector('#disqus_thread')); /* Auto switch theme */ function reloadDisqus() { /* Disqus hasn't been loaded */ if (typeof DISQUS === "undefined") { return; } if (document.readyState == 'complete') { DISQUS.reset({ reload: true, config: disqus_config }); } } const modeToggle = document.querySelector(".mode-toggle"); if (typeof modeToggle !== "undefined") { /* modeToggle.addEventListener('click', reloadDisqus); // not pretty for 'color-scheme' */ window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', reloadDisqus); } </script></div></div><div class="row justify-content-center border-top"> <small class="my-4">Powered by <a href="https://twitter.com/0xhav0c" target="_blank" rel="noopener noreferrer">0xhav0c</a> © 2022 - <a href="/privacy-policy/">Privacy Policy</a> </small></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/pentesting/">pentesting</a> <a class="post-tag" href="/tags/best-practicies/">best practicies</a> <a class="post-tag" href="/tags/red-team/">red-team</a> <a class="post-tag" href="/tags/active-directory/">active directory</a> <a class="post-tag" href="/tags/active-scan-evasion-tactics/">active scan evasion tactics</a> <a class="post-tag" href="/tags/asset-discovery-methods/">asset discovery methods</a> <a class="post-tag" href="/tags/asset-discovery/">asset discovery</a> <a class="post-tag" href="/tags/asset-enumeration-methods/">asset enumeration methods</a> <a class="post-tag" href="/tags/assets-of-target/">assets of target</a> <a class="post-tag" href="/tags/attack-detection-mechanism/">attack detection mechanism</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-XBEEHR73W1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-XBEEHR73W1'); }); </script>
